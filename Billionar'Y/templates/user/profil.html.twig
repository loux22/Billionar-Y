
	{% extends 'base.html.twig' %}
	{% block link %}
	<link rel="stylesheet" href="{{ asset('/css/profil.css')}}">
	<link rel="stylesheet" href="{{ asset('/css/profilModifyPassword.css')}}">
	{% endblock %}
	{% block title %}Profil{% endblock %}

	{% block body %}
	<!-- 

	<button type="submit" class="modifyProfil-js">Modifier Profil</button>
	<button type="submit" class="modifyPassword-js">Modifier Mot de passe</button>




<div class="formModify">
	{{form_start(UserModifyForm)}}

	
		{% if form_errors(UserModifyForm.username) %}
			{{form_errors(UserModifyForm.username)}}
		{% endif %}
		{{form_widget(UserModifyForm.username, { 'attr': {'class': 'lol'} })}}



	<div class="space">
		{% if form_errors(UserModifyForm.lastname) %}
			{{form_errors(UserModifyForm.lastname)}}
		{% endif %}
		{{form_widget(UserModifyForm.lastname, { 'attr': {'class': 'lol'}})}}
	</div>

	<div class="space">
		{% if form_errors(UserModifyForm.pseudo) %}
			{{form_errors(UserModifyForm.pseudo)}}
		{% endif %}
		{{form_widget(UserModifyForm.pseudo,{ 'attr': {'class': 'pd'}})}}
		{% if form_errors(UserModifyForm.age) %}
			{{form_errors(UserModifyForm.age)}}
		{% endif %}
		{{form_widget(UserModifyForm.age)}}
	</div>

    <div class="space">
		{% if form_errors(UserModifyForm.file) %}
			{{form_errors(UserModifyForm.file)}}
		{% endif %}
		{{form_widget(UserModifyForm.file)}}

	</div>

    <button type="submit">Confirmer</button>

	{{form_end(UserModifyForm)}}
</div>

<div class="password">
<form action="" method="post">
        <input type="password" placeholder="Ancien mot de passe" name="lastPassword"><br>
        <input type="password" placeholder="Nouveau mot de passe" name="newPassword"><br>
        <input type="password" placeholder="Confirmation" name="repeatNewPassword"><br>

        <button type="submit">Confirmer</button>

    </form>
</div>


	<style>

		.display {
			display: block;
		}

		.formModify, .password{
			display: none;
		}
	</style> -->
<div class="container__top">
	<div class="container__top-profile">
		<div class="container__top-profile-img">
			<img src="{{ asset('/avatar/')}}{{member[0].user.avatar}}" alt="">
		</div>
		<div class="container__top-login">
			<div class="container__top-login-pseudo">
				<h3>{{member[0].user.pseudo}}</h3>
			</div>
			<div class="container__top-login-username">
				<a href="#">{{member[0].user.username}}</a>
				<a href="#">{{member[0].user.lastname}}</a>
				<a href="#">{{age}} ans</a>
			</div>
		</div>
	</div>
		<div class="container__top-button">
			<button class="modify-password-js" type="submit">Modifier mot de passe</button>
			<button class="modify-profil-js" type="submit">Modifier le profil</button>
		</div>
</div>

<div class="container__midl">
	<div class="container__mdl-menu-vertcl">
		<ul>
			<li><a href="#">Général</a></li>
			<li><a href="#">Historique</a></li>
			<li><a href="#">Transactions</a></li>
		</ul>
	</div>
	<div class="container__mdl-menu-horiz">
		<div class="container__mdl-menu-horiz-left">
			<a href="#">Dépot</a>
			<a href="#">Retrait</a>
		</div>
		<div class="container__mdl-menu-horiz-right">
			<a href="#">{{member[0].bank}} €</a>
		</div>
	</div>
</div>

<div class="container__bottom profil">
	<div class="container__bottom-tabl">

		<div class="container__bottom-tabl-a">
			<h3>Date de naissance</h3>
		</div>
		<div class="container__bottom-tabl-a">
			<h3>Adresse</h3>
		</div>

		<div class="container__bottom-tabl-a">
			<a href="#">{{member[0].user.age.date|date("d/m/Y")}}</a>
		</div>
		<div class="container__bottom-tabl-a">
			<a href="#">{% if member[0].address != null %}
		<p>addresse :
			{{member[0].address}}</p>
	{% endif %}</a>
		</div>
		
		<div class="container__bottom-tabl-a">
			<h3>Adresse mail</h3>
		</div>

		<div class="container__bottom-tabl-a">
			<h3>Ville</h3>
		</div>
		<div class="container__bottom-tabl-a">
			<a href="#">{{member[0].user.mail}}</a>
		</div>

		<div class="container__bottom-tabl-a">
			<a href="#">{% if member[0].city != null %}
		<p>ville :
			{{member[0].city}}</p>
	{% endif %}</a>
		</div>

		<div class="container__bottom-tabl-a">
			<h3>Téléphone</h3>
		</div>

		<div class="container__bottom-tabl-a">
			<h3>Code postal</h3>
		</div>
		<div class="container__bottom-tabl-a">
			<a href="#">{% if member[0].phone != null %}
		<p>numero :
			{{member[0].phone}}</p>
	{% endif %}</a>
		</div>
		<div class="container__bottom-tabl-a">
			<a href="#">{% if member[0].postal != null %}
		<p>code postal :
			{{member[0].postal}}</p>
	{% endif %}</a>
		</div>
	</div>
</div>

<div class="password display">
<form action="" method="post">
<div class="container__bottom">

    <div class="container__bottom-block">
        <input type="password" placeholder="Ancien mot de passe" name="lastPassword">
    </div>
    <div class="container__bottom-block">
       <input type="password" placeholder="Nouveau mot de passe" name="newPassword">
    </div>
    <div class="container__bottom-block">
         <input type="password" placeholder="Confirmation" name="repeatNewPassword">
    </div>
	
</div>
	<div class="container__bottom-button">
		<button type="submit">Confirmer</button>
	</div>
</form>
</div>

<div class="modify display">
	{{form_start(UserModifyForm)}}
<div class="container__bottom">
	
	<div class="container__bottom-tabl">

		<div class="container__bottom-tabl-a">
			<h3>Date de naissance</h3>
		</div>
		<div class="container__bottom-tabl-a">
			<h3>Adresse</h3>
		</div>

		<div class="container__bottom-tabl-a">
			{% if form_errors(UserModifyForm.age) %}
			{{form_errors(UserModifyForm.age)}}
		{% endif %}
		{{form_widget(UserModifyForm.age)}}
		</div>
		<div class="container__bottom-tabl-a">
			<input type="text" name="adresse" id="adresse" placeholder="4 rue du chapeau rouge">
		</div>
		
		<div class="container__bottom-tabl-a">
			<h3>Adresse mail</h3>
		</div>

		<div class="container__bottom-tabl-a">
			<h3>Ville</h3>
		</div>
		<div class="container__bottom-tabl-a">
			<input type="email" name="email" id="email" placeholder="test@gmail.com" required autofocus>
			<!-- <a href="#">test@gmail.com</a> -->
		</div>

		<div class="container__bottom-tabl-a">
			<input type="text" name="city" id="city" placeholder="Sannois">
		</div>

		<div class="container__bottom-tabl-a">
			<h3>Téléphone</h3>
		</div>

		<div class="container__bottom-tabl-a">
			<h3>Code postal</h3>
		</div>
		<div class="container__bottom-tabl-a">
			<input type="tel" name="tel" id="tel" placeholder="06.22.15.19.61">
		</div>
		<div class="container__bottom-tabl-a">
			<input type="text" name="dep" id="dep" placeholder="95110">
		</div>
	</div>
	
	<div class="container__bottom-button">
		<button type="submit">Confirmer</button>
	</div>
</div>
{{form_end(UserModifyForm)}}
</div>

<style>
.display{
	display: none;
}
</style>

{% endblock %}
{% block js %}
<script>
    var profil = document.querySelector(".profil");
    var password = document.querySelector(".password");
	var modify = document.querySelector(".modify");

    var modifyProfil = document.querySelector(".modify-profil-js")
    var modifyPassword = document.querySelector(".modify-password-js")


    function displayPassword() {
    	if (password.classList.contains('display') && modify.classList.contains('display')) {
            profil.classList.add('display');
            password.classList.remove('display');
        }else if(password.classList.contains('display') && profil.classList.contains('display')){
			modify.classList.add('display');
            password.classList.remove('display');
		} else{
			password.classList.add('display');
            profil.classList.remove('display');
		}
    }

	function displayModify() {
    	if (password.classList.contains('display') && modify.classList.contains('display')) {
            profil.classList.add('display');
            modify.classList.remove('display');
        } else if(modify.classList.contains('display') && profil.classList.contains('display')){
			password.classList.add('display');
            modify.classList.remove('display');
		} else{
			modify.classList.add('display');
			profil.classList.remove('display');
		}
    }


    modifyPassword.addEventListener('click', displayPassword)
	modifyProfil.addEventListener('click', displayModify)
</script>
{% endblock %}

  
